# HW 8. MongoDB and Auth

## Task 01

Встановіть пакет connect-mongo. Підключіть його через:

## Task 02

Встановіть пакети mongodb, bcrypt і підключіть їх у проєкт

## Task 03

Додайте маршрути для:

GET /register — відображення форми реєстрації
POST /register — обробка реєстрації
У формі мають бути поля: email, password, а також radiobutton з вибором ролі: user або admin (за замовчуванням — user). Форма надсилається методом POST на ту ж адресу.

## Task 04

Отримайте дані email, password, role з тіла запиту
Обріжте пробіли, приведіть email та role до нижнього регістру
Перевірте, чи є користувач у колекції users за email. Якщо існує — перенаправте назад на /register з помилкою: user exists
Якщо користувач не знайдений:

Створіть хеш паролю за допомогою bcrypt
Збережіть користувача до колекції users
Перенаправте на /login з повідомленням: user created successfully, please login

## Task 05

GET /login — форма входу має містити email і password.

POST /login — обробка входу.

Отримайте дані з POST-запиту
Обріжте пробіли, переведіть email у нижній регістр
Знайдіть користувача за email у базі:
Якщо не знайдено — поверніть на /login з повідомленням: login or password is incorrect
Якщо користувач знайдений:

Перевірте правильність пароля через bcrypt.compare
Якщо пароль вірний:

Збережіть в сесію email та role
Перенаправте користувача на /dashboard

## Task 06

Завантажте документи з tasks.json у колекцію tasks

У маршруті /dashboard:
Якщо роль користувача admin — показуйте тільки задачі, де role: "admin"
Якщо роль user — показуйте задачі, де role: "user"
Якщо користувач не авторизований — перенаправляйте його на /login
Підказки до виконання роботи можно знайти у коді уроку (прикріплений у LMS). Якщо виникають будь-які питання - пишіть.
